<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>考试题目</title>
  </head>
  <body>

    <script>
    //多练，刷题

    //判断是否是2的幂
     function is2N(num) {
       return (num > 0) && ((num & (num - 1)) === 0);
     }
     console.log(is2N(5))
     console.log(is2N(8))

     /*
      使用两个栈，实现队列
     */

     /*
     入队
     @stack, 要存放数据的栈
     @elem, 要存放的数据
     */
     function enqueue(stack, elem){
       stack.push(elem);
     }

     /*
     出队:要返回一个元素
     @srcStack: 原来存放数据的栈
     @destStack: 用于实现队列的一个栈
     */
     function dequeue(srcStack, destStack){
       if (destStack.length === 0){
         for (var i = 0, len = srcStack.length; i < len ;i++){
           destStack.push(srcStack.pop());
         }
       }
       return destStack.pop();
     }

     var src = [], dest = [];
     for (var i = 0; i < 10; i++){
       enqueue(src, i);
     }

     var ret = dequeue(src, dest);
     console.log(ret);



    var a = [1,2,3,4,5, [11,12,13]];
    var obj = {name: 'lisi', hobby: ["one", "two"]};
    console.log(a.constructor === Array);
    console.log(obj.constructor === Object);


    /*
    对象深度克隆
    @obj,要克隆
    */
    function deepClone(obj){
      var o;
      if (obj.constructor === Array){
        o = [];
        for (var i = 0; i < obj.length; i++){
          console.log("递归数组：", obj[i]);
          o[i] = deepClone(obj[i]);
        }
        return o;
      } else if (typeof obj === "object"){
        o = {};
        for (var key in obj){
          o[key] = deepClone(obj[key]);
        }
        return o;
      } else {
        console.log("普通元素：", obj);
        o = obj;
        return o;
      }
    }

    var result = deepClone(a);
    // console.log(result);
    // a[5].push(14);
    // console.log(result);
    //
    // result = clone(obj);
    // console.log(result);
    // obj.hobby.push("three");
    // console.log(result);



    /*
    格式转换：
    @str，要转化的字符串
    */
    function convert(str){
      var keys = {};

      str.replace(/([^&=]+)=([^&=]+)/g, function(match, name, value){
        keys[name] = keys[name] ? keys[name] + "," + value  :  value ;
      });
      // keys = {name: "lisi", age: "10", hobby: "swim,basketball,football", score: "80"};

      //拆分keys, 拼接成key=value的形式
      var arr = [];
      for (var key in keys){
        arr.push(key + "=" + keys[key]);
      }
      //arr = ["name=lisi", "age=10"];

      return arr.join('&');
    }

    var str = "name=lisi&age=10&hobby=swim&hobby=basketball&score=80&hobby=football";
    console.log(convert(str));


    </script>
  </body>
</html>
